<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSSD - Streifenblatt</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            <div class="badge-mini"></div>
            <span class="nav-title">LOS SANTOS SHERIFF DEPARTMENT</span>
        </div>
        <div class="nav-center">
            <button class="nav-btn active" data-view="patrols">STREIFEN</button>
            <button class="nav-btn" data-view="employees">MITARBEITER</button>
            <button class="nav-btn" data-view="profile">PROFIL</button>
            <button class="nav-btn admin-only" data-view="admin">VERWALTUNG</button>
        </div>
        <div class="nav-right">
            <div class="user-info">
                <img id="navProfileImage" class="nav-profile-img" src="" alt="">
                <div class="user-details">
                    <span id="navUsername" class="nav-username"></span>
                    <span id="navDienummer" class="nav-dienummer"></span>
                </div>
                <div class="duty-indicator" id="navDutyIndicator">
                    <span class="duty-dot"></span>
                    <span class="duty-text">OFF DUTY</span>
                </div>
            </div>
            <button id="logoutBtn" class="logout-btn">ABMELDEN</button>
        </div>
    </nav>

    <main class="main-content">
        <div id="patrolsView" class="view-section active">
            <div class="view-header">
                <h2>AKTIVE STREIFEN</h2>
                <button id="createPatrolBtn" class="primary-btn">
                    <span>STREIFE ERSTELLEN</span>
                </button>
            </div>
            <div id="patrolsGrid" class="patrols-grid"></div>
        </div>

        <div id="employeesView" class="view-section">
            <div class="view-header">
                <h2>MITARBEITER ÜBERSICHT</h2>
            </div>
            <div id="employeesList" class="employees-list"></div>
        </div>

        <div id="profileView" class="view-section">
            <div class="profile-container">
                <h2>MEIN PROFIL</h2>
                <div class="profile-card">
                    <div class="profile-image-section">
                        <img id="profileImage" class="profile-img-large" src="" alt="">
                        <button id="changeImageBtn" class="secondary-btn">BILD ÄNDERN</button>
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                    </div>
                    <div class="profile-info">
                        <div class="info-row">
                            <span class="info-label">BENUTZERNAME</span>
                            <span id="profileUsername" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">DIENUMMER</span>
                            <span id="profileDienummer" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">RANG</span>
                            <span id="profileRank" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ROLLE</span>
                            <span id="profileRole" class="info-value"></span>
                        </div>
                        <div class="duty-toggle-section">
                            <span class="info-label">DIENSTSTATUS</span>
                            <button id="dutyToggleBtn" class="duty-toggle-btn">
                                <span class="toggle-text">ON DUTY</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="adminView" class="view-section admin-only">
            <div class="view-header">
                <h2>VERWALTUNG</h2>
                <button id="addUserBtn" class="primary-btn">
                    <span>MITARBEITER HINZUFÜGEN</span>
                </button>
            </div>
            <div id="adminUsersList" class="admin-users-list"></div>
        </div>
    </main>

    <div id="createPatrolModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>NEUE STREIFE ERSTELLEN</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label>EINHEIT</label>
                    <input type="text" id="patrolUnit" placeholder="z.B. 1-A-12">
                </div>
                <div class="input-group">
                    <label>FAHRZEUG</label>
                    <input type="text" id="patrolVehicle" placeholder="z.B. Crown Victoria">
                </div>
                <div class="input-group">
                    <label>GEBIET</label>
                    <input type="text" id="patrolArea" placeholder="z.B. Sandy Shores">
                </div>
                <div class="input-group">
                    <label>STATUS</label>
                    <select id="patrolStatus">
                        <option value="Verfügbar">Verfügbar</option>
                        <option value="Im Einsatz">Im Einsatz</option>
                        <option value="Pause">Pause</option>
                        <option value="Nicht verfügbar">Nicht verfügbar</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn modal-cancel">ABBRECHEN</button>
                <button id="confirmCreatePatrol" class="primary-btn">ERSTELLEN</button>
            </div>
        </div>
    </div>

    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>MITARBEITER HINZUFÜGEN</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label>BENUTZERNAME</label>
                    <input type="text" id="newUsername">
                </div>
                <div class="input-group">
                    <label>PASSWORT</label>
                    <input type="password" id="newPassword">
                </div>
                <div class="input-group">
                    <label>DIENUMMER</label>
                    <input type="text" id="newDienummer" placeholder="z.B. LSSD-002">
                </div>
                <div class="input-group">
                    <label>RANG</label>
                    <input type="text" id="newRank" placeholder="z.B. Deputy">
                </div>
                <div class="input-group">
                    <label>ROLLE</label>
                    <select id="newRole">
                        <option value="user">Mitarbeiter</option>
                        <option value="admin">Administrator</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn modal-cancel">ABBRECHEN</button>
                <button id="confirmAddUser" class="primary-btn">HINZUFÜGEN</button>
            </div>
        </div>
    </div>

    <div id="patrolDetailModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="patrolDetailTitle">STREIFE DETAILS</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="patrol-detail-grid">
                    <div class="patrol-info-section">
                        <div class="info-row">
                            <span class="info-label">EINHEIT</span>
                            <input type="text" id="editPatrolUnit" class="edit-input">
                        </div>
                        <div class="info-row">
                            <span class="info-label">FAHRZEUG</span>
                            <input type="text" id="editPatrolVehicle" class="edit-input">
                        </div>
                        <div class="info-row">
                            <span class="info-label">GEBIET</span>
                            <input type="text" id="editPatrolArea" class="edit-input">
                        </div>
                        <div class="info-row">
                            <span class="info-label">STATUS</span>
                            <select id="editPatrolStatus" class="edit-select">
                                <option value="Verfügbar">Verfügbar</option>
                                <option value="Im Einsatz">Im Einsatz</option>
                                <option value="Pause">Pause</option>
                                <option value="Nicht verfügbar">Nicht verfügbar</option>
                            </select>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ERSTELLT VON</span>
                            <span id="patrolCreator" class="info-value"></span>
                        </div>
                    </div>
                    <div class="patrol-members-section">
                        <div class="members-header">
                            <h4>MITGLIEDER</h4>
                            <button id="joinPatrolBtn" class="small-btn">BEITRETEN</button>
                        </div>
                        <div id="patrolMembersList" class="members-list"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="deletePatrolBtn" class="danger-btn admin-only">LÖSCHEN</button>
                <button class="secondary-btn modal-cancel">SCHLIESSEN</button>
                <button id="savePatrolBtn" class="primary-btn">SPEICHERN</button>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
